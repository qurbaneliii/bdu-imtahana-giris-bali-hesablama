<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BDU - ƒ∞mtahana Giri≈ü Balƒ± Hesablama</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        body.dark {
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
        }

        .container {
            background: #ffffff;
            border-radius: 24px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
            max-width: 600px;
            width: 100%;
            padding: 36px;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .header .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .theme-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            color: #2a5298;
            font-weight: 600;
            user-select: none;
        }

        .header h1 {
            color: #2a5298;
            font-size: 26px;
            margin-bottom: 8px;
        }

        .header p {
            color: #666;
            font-size: 14px;
        }

        .form-section {
            margin-bottom: 25px;
        }

        .form-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
        }

        .form-section h3::before {
            content: '‚ñ∂';
            color: #667eea;
            margin-right: 10px;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
            font-size: 14px;
        }

        input[type="number"], select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e6e8eb;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #2a5298;
            box-shadow: 0 0 0 3px rgba(42, 82, 152, 0.12);
        }

        .radio-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .radio-option {
            position: relative;
        }

        .radio-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .radio-option label {
            display: block;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .radio-option input[type="radio"]:checked + label {
            background: #2a5298;
            color: white;
            border-color: #2a5298;
        }

        .radio-option label:hover {
            border-color: #2a5298;
        }

        .colloquium-inputs, .seminar-inputs {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        #seminarInputsContainer {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }

        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .results {
            display: none;
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f7f9fc 0%, #e7edf7 100%);
            border-radius: 15px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .results h2 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
            font-size: 22px;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            color: #555;
            font-weight: 500;
        }

        .result-value {
            color: #333;
            font-weight: 600;
        }

        .final-score {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            text-align: center;
            border: 3px solid #667eea;
        }

        .final-score h3 {
            color: #2a5298;
            font-size: 28px;
            margin-bottom: 5px;
        }

        .final-score p {
            color: #666;
            font-size: 14px;
        }

        .error {
            color: #e63946;
            font-size: 12px;
            margin-top: 6px;
            display: none;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }

            .radio-group {
                grid-template-columns: repeat(2, 1fr);
            }

            .colloquium-inputs, .seminar-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="toolbar">
                <h1>üéì BAKI D√ñVL∆èT UNƒ∞VERSƒ∞TETƒ∞</h1>
                <div class="theme-toggle" id="themeToggle">üåô T√ºnd rejim</div>
            </div>
            <p>ƒ∞mtahana Giri≈ü Balƒ± Hesablama Sistemi</p>
        </div>

        <form id="calculatorForm">
            <!-- D…ôrs Saatƒ± -->
            <div class="form-section">
                <h3>D…ôrs Saatƒ±</h3>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="hours15" name="courseHours" value="15" required>
                        <label for="hours15">15 saat</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="hours30" name="courseHours" value="30">
                        <label for="hours30">30 saat</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="hours45" name="courseHours" value="45">
                        <label for="hours45">45 saat</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="hours60" name="courseHours" value="60">
                        <label for="hours60">60 saat</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="hours75" name="courseHours" value="75">
                        <label for="hours75">75 saat</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="hours90" name="courseHours" value="90">
                        <label for="hours90">90 saat</label>
                    </div>
                </div>
            </div>

            <!-- N…ôtic…ô ≈ûkalasƒ± -->
            <div class="form-section">
                <h3>N…ôtic…ô ≈ûkalasƒ±</h3>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="scale50" name="resultScale" value="50" checked>
                        <label for="scale50">50 bal</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="scale10" name="resultScale" value="10">
                        <label for="scale10">10 bal</label>
                    </div>
                </div>
            </div>

            <!-- Kollekvium -->
            <div class="form-section">
                <h3>Kollekvium Ballarƒ±</h3>
                <div class="colloquium-inputs">
                    <div class="form-group">
                        <label>1-ci (0-10)</label>
                        <select id="coll1" required>
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8" selected>8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>2-ci (0-10)</label>
                        <select id="coll2" required>
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8" selected>8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>3-c√º (0-10)</label>
                        <select id="coll3" required>
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8" selected>8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Seminar -->
            <div class="form-section">
                <h3>Seminar Qiym…ôtl…ôri</h3>
                <div class="form-group">
                    <label>Seminar sayƒ± (1-10)</label>
                    <select id="seminarCount" required>
                        <option value="">Se√ßin</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3" selected>3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                    <div id="seminarError" class="error">B√ºt√ºn seminar ballarƒ±nƒ± 0-10 arasƒ±, bo≈ü saxlamadan daxil edin.</div>
                </div>
                <div id="seminarInputsContainer"></div>
            </div>

            <!-- S…ôrb…ôst ƒ∞≈ü -->
            <div class="form-section">
                <h3>S…ôrb…ôst ƒ∞≈ü</h3>
                <div class="form-group">
                    <label>S…ôrb…ôst i≈ü balƒ± (0-10)</label>
                    <input type="number" id="independentWork" min="0" max="10" step="0.1" required>
                </div>
            </div>

            <!-- Davamiyy…ôt -->
            <div class="form-section">
                <h3>Davamiyy…ôt</h3>
                <div class="form-group">
                    <label>Qayƒ±b sayƒ±</label>
                    <input type="number" id="absences" min="0" max="100" value="0" required>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">üìä Hesabla</button>
        </form>

        <div id="results" class="results">
            <h2>üìã YEKUN N∆èTƒ∞C∆èL∆èR</h2>
            <div class="result-item">
                <span class="result-label">Kollekvium balƒ±:</span>
                <span class="result-value" id="resultColl">-</span>
            </div>
            <div class="result-item">
                <span class="result-label">Seminar balƒ±:</span>
                <span class="result-value" id="resultSem">-</span>
            </div>
            <div class="result-item">
                <span class="result-label">Davamiyy…ôt:</span>
                <span class="result-value" id="resultAtt">-</span>
            </div>
            <div class="result-item">
                <span class="result-label">S…ôrb…ôst i≈ü:</span>
                <span class="result-value" id="resultInd">-</span>
            </div>
            <div class="final-score">
                <h3 id="finalScore">0.00 / 50</h3>
                <p>Yekun Bal</p>
            </div>
            <button type="button" class="btn btn-secondary" onclick="resetForm()">üîÑ Yenid…ôn Hesabla</button>
        </div>
    </div>

    <script>
        // Seminar inputlarƒ±nƒ± dinamik yaratmaq
        document.getElementById('seminarCount').addEventListener('change', function() {
            const count = parseInt(this.value) || 0;
            const container = document.getElementById('seminarInputsContainer');
            container.innerHTML = '';
            const options = Array.from({length: 11}, (_, i) => `<option value="${i}">${i}</option>`).join('');
            for (let i = 1; i <= count; i++) {
                const div = document.createElement('div');
                div.className = 'form-group';
                div.innerHTML = `
                    <label>${i}-ci seminar (0-10)</label>
                    <select class="seminar-input" required>${options}</select>
                `;
                container.appendChild(div);
            }
        });

        // ƒ∞lkin 3 seminar inputu yaratmaq
        document.getElementById('seminarCount').dispatchEvent(new Event('change'));

        // Form submit
        document.getElementById('calculatorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const seminarError = document.getElementById('seminarError');
            seminarError.style.display = 'none';

            // D…ôrs saatƒ±
            const courseHours = parseInt(document.querySelector('input[name="courseHours"]:checked').value);
            // ≈ûkala
            const resultScale = parseInt(document.querySelector('input[name="resultScale"]:checked').value);
            
            // Kollekvium
            const coll1 = parseInt(document.getElementById('coll1').value, 10);
            const coll2 = parseInt(document.getElementById('coll2').value, 10);
            const coll3 = parseInt(document.getElementById('coll3').value, 10);
            const collAvg = (coll1 + coll2 + coll3) / 3;
            const collScore = collAvg * 0.6;
            
            // Seminar
            const seminarInputs = document.querySelectorAll('.seminar-input');
            let seminarSum = 0;
            let seminarCountValid = 0;
            for (const input of seminarInputs) {
                const num = parseInt(input.value, 10);
                if (isNaN(num) || num < 0 || num > 10) {
                    seminarError.style.display = 'block';
                    return;
                }
                seminarSum += num;
                seminarCountValid++;
            }
            const seminarAvg = seminarCountValid > 0 ? (seminarSum / seminarCountValid) : 0;
            const seminarScore = seminarAvg * 0.4;
            
            // S…ôrb…ôst i≈ü
            const independentWork = parseFloat(document.getElementById('independentWork').value);
            
            // Davamiyy…ôt
            const absences = parseInt(document.getElementById('absences').value);
            const penalty = courseHours >= 60 ? 0.33 : 0.5;
            let attendanceScore = 10 - (absences * penalty);
            if (attendanceScore < 0) attendanceScore = 0;
            if (attendanceScore > 10) attendanceScore = 10;
            
            // Yekun (baza 30 ‚Üí ≈ükala 50)
            const baseTotal = collScore + seminarScore + attendanceScore + independentWork; // 0-30
            const score50 = baseTotal * (50 / 30);
            const finalDisplay = resultScale === 10 ? (score50 / 5) : score50;
            
            // N…ôtic…ôl…ôri g√∂st…ôrm…ôk
            document.getElementById('resultColl').textContent = 
                `${collScore.toFixed(2)} (ortalama: ${collAvg.toFixed(2)})`;
            document.getElementById('resultSem').textContent = 
                `${seminarScore.toFixed(2)} (ortalama: ${seminarAvg.toFixed(2)})`;
            document.getElementById('resultAtt').textContent = attendanceScore.toFixed(2);
            document.getElementById('resultInd').textContent = independentWork.toFixed(2);
            document.getElementById('finalScore').textContent = resultScale === 10 
                ? `${finalDisplay.toFixed(2)} / 10` 
                : `${finalDisplay.toFixed(2)} / 50`;
            
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        });

        function resetForm() {
            document.getElementById('calculatorForm').reset();
            document.getElementById('results').style.display = 'none';
            document.getElementById('seminarCount').dispatchEvent(new Event('change'));
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Theme toggle with persistence
        (function() {
            const key = 'bdu_theme';
            const body = document.body;
            const toggle = document.getElementById('themeToggle');
            const mode = localStorage.getItem(key);
            if (mode === 'dark') {
                body.classList.add('dark');
                toggle.textContent = '‚òÄÔ∏è A√ßƒ±q rejim';
            }
            toggle.addEventListener('click', () => {
                const isDark = body.classList.toggle('dark');
                localStorage.setItem(key, isDark ? 'dark' : 'light');
                toggle.textContent = isDark ? '‚òÄÔ∏è A√ßƒ±q rejim' : 'üåô T√ºnd rejim';
            });
        })();
    </script>
</body>
</html>